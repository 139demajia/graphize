(function(){function ee(o){Object.defineProperty(o,"__esModule",{value:!0,configurable:!0})}function l(o,g,a,t){Object.defineProperty(o,g,{get:a,set:t,enumerable:!0,configurable:!0})}function r(o){return o&&o.__esModule?o.default:o}var te=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{},n=te.parcelRequire11ea;n.register("9c5Ak",function(o,g){ee(o.exports),l(o.exports,"loader",function(){return n("7GJ5p").default}),l(o.exports,"DiffEditor",function(){return n("a8HTS").default}),l(o.exports,"useMonaco",function(){return n("f3Nep").default}),l(o.exports,"default",function(){return n("gLwTk").default});var a=n("7GJ5p"),t=n("a8HTS"),e=n("f3Nep"),i=n("gLwTk")}),n.register("a8HTS",function(o,g){l(o.exports,"default",function(){return i});var a=n("2Ly8r"),t=n("9GpmP"),e=(0,a.memo)(t.default),i=e}),n.register("9GpmP",function(o,g){l(o.exports,"default",function(){return v});var a=n("7GJ5p"),t=n("2Ly8r"),e=n("5A3Ii"),i=n("k96bV"),u=n("bLLOG"),d=n("fshwv"),c=n("cMffJ");function p({original:b,modified:E,language:w,originalLanguage:L,modifiedLanguage:k,originalModelPath:O,modifiedModelPath:P,keepCurrentOriginalModel:T,keepCurrentModifiedModel:N,theme:S,loading:F,options:C,height:A,width:G,className:H,wrapperProps:W,beforeMount:z,onMount:B}){const[R,Y]=(0,t.useState)(!1),[_,J]=(0,t.useState)(!0),x=(0,t.useRef)(null),s=(0,t.useRef)(null),U=(0,t.useRef)(null),D=(0,t.useRef)(B),Q=(0,t.useRef)(z);(0,u.default)(()=>{const M=a.default.init();return M.then(y=>(s.current=y)&&J(!1)).catch(y=>(y==null?void 0:y.type)!=="cancelation"&&console.error("Monaco initialization: error:",y)),()=>x.current?q():M.cancel()}),(0,d.default)(()=>{const M=x.current.getModifiedEditor();M.getOption(s.current.editor.EditorOption.readOnly)?M.setValue(E):E!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:E,forceMoveMarkers:!0}]),M.pushUndoStop())},[E],R),(0,d.default)(()=>{x.current.getModel().original.setValue(b)},[b],R),(0,d.default)(()=>{const{original:M,modified:y}=x.current.getModel();s.current.editor.setModelLanguage(M,L||w),s.current.editor.setModelLanguage(y,k||w)},[w,L,k],R),(0,d.default)(()=>{s.current.editor.setTheme(S)},[S],R),(0,d.default)(()=>{x.current.updateOptions(C)},[C],R);const m=(0,t.useCallback)(()=>{Q.current(s.current);const M=(0,c.getOrCreateModel)(s.current,b,L||w,O),y=(0,c.getOrCreateModel)(s.current,E,k||w,P);x.current.setModel({original:M,modified:y})},[w,E,k,b,L,O,P]),f=(0,t.useCallback)(()=>{x.current=s.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...C}),m(),s.current.editor.setTheme(S),Y(!0)},[C,S,m]);(0,t.useEffect)(()=>{R&&D.current(x.current,s.current)},[R]),(0,t.useEffect)(()=>{!_&&!R&&f()},[_,R,f]);function q(){const M=x.current.getModel();if(!T){var y;(y=M.original)===null||y===void 0||y.dispose()}if(!N){var I;(I=M.modified)===null||I===void 0||I.dispose()}x.current.dispose()}return r(t).createElement(i.default,{width:G,height:A,isEditorReady:R,loading:F,_ref:U,className:H,wrapperProps:W})}p.propTypes={original:r(e).string,modified:r(e).string,language:r(e).string,originalLanguage:r(e).string,modifiedLanguage:r(e).string,originalModelPath:r(e).string,modifiedModelPath:r(e).string,keepCurrentOriginalModel:r(e).bool,keepCurrentModifiedModel:r(e).bool,theme:r(e).string,loading:r(e).oneOfType([r(e).element,r(e).string]),options:r(e).object,width:r(e).oneOfType([r(e).number,r(e).string]),height:r(e).oneOfType([r(e).number,r(e).string]),className:r(e).string,wrapperProps:r(e).object,beforeMount:r(e).func,onMount:r(e).func},p.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:c.noop,onMount:c.noop};var v=p}),n.register("5A3Ii",function(o,g){var a,t;o.exports=n("dNOhV")()}),n.register("dNOhV",function(o,g){"use strict";var a=n("lBw0l");function t(){}function e(){}e.resetWarningCache=t,o.exports=function(){function i(c,p,v,b,E,w){if(w!==a){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}i.isRequired=i;function u(){return i}var d={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:u,element:i,elementType:i,instanceOf:u,node:i,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:e,resetWarningCache:t};return d.PropTypes=d,d}}),n.register("lBw0l",function(o,g){"use strict";var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=a}),n.register("k96bV",function(o,g){l(o.exports,"default",function(){return i});var a=n("2Ly8r"),t=n("k9CQ0"),e=(0,a.memo)(t.default),i=e}),n.register("k9CQ0",function(o,g){l(o.exports,"default",function(){return c});var a=n("2Ly8r"),t=n("5A3Ii"),e=n("itc00"),i=n("1oshR"),u=n("7wpcG");function d({width:p,height:v,isEditorReady:b,loading:E,_ref:w,className:L,wrapperProps:k}){return r(a).createElement("section",(0,e.extends)({style:{...u.default.wrapper,width:p,height:v}},k),!b&&r(a).createElement(i.default,{content:E}),r(a).createElement("div",{ref:w,style:{...u.default.fullWidth,...!b&&u.default.hide},className:L}))}d.propTypes={width:r(t).oneOfType([r(t).number,r(t).string]).isRequired,height:r(t).oneOfType([r(t).number,r(t).string]).isRequired,loading:r(t).oneOfType([r(t).element,r(t).string]).isRequired,isEditorReady:r(t).bool.isRequired,className:r(t).string,wrapperProps:r(t).object};var c=d}),n.register("itc00",function(o,g){l(o.exports,"extends",function(){return a});function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(t[u]=i[u])}return t},a.apply(this,arguments)}}),n.register("1oshR",function(o,g){l(o.exports,"default",function(){return i});var a=n("2Ly8r");const t={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function e({content:u}){return r(a).createElement("div",{style:t},u)}var i=e}),n.register("7wpcG",function(o,g){l(o.exports,"default",function(){return t});var t={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}}}),n.register("bLLOG",function(o,g){l(o.exports,"default",function(){return e});var a=n("2Ly8r");function t(i){(0,a.useEffect)(i,[])}var e=t}),n.register("fshwv",function(o,g){l(o.exports,"default",function(){return e});var a=n("2Ly8r");function t(i,u,d=!0){const c=(0,a.useRef)(!0);(0,a.useEffect)(c.current||!d?()=>{c.current=!1}:i,u)}var e=t}),n.register("cMffJ",function(o,g){l(o.exports,"noop",function(){return a}),l(o.exports,"getOrCreateModel",function(){return t}),l(o.exports,"isUndefined",function(){return d});function a(){}function t(c,p,v,b){return e(c,b)||i(c,p,v,b)}function e(c,p){return c.editor.getModel(u(c,p))}function i(c,p,v,b){return c.editor.createModel(p,v,b&&u(c,b))}function u(c,p){return c.Uri.parse(p)}function d(c){return c===void 0}}),n.register("f3Nep",function(o,g){l(o.exports,"default",function(){return u});var a=n("7GJ5p"),t=n("2Ly8r"),e=n("bLLOG");function i(){const[d,c]=(0,t.useState)(a.default.__getMonacoInstance());return(0,e.default)(()=>{let p;return d||(p=a.default.init(),p.then(v=>{c(v)})),()=>{var v;return(v=p)===null||v===void 0?void 0:v.cancel()}}),d}var u=i}),n.register("gLwTk",function(o,g){l(o.exports,"default",function(){return i});var a=n("2Ly8r"),t=n("bssli"),e=(0,a.memo)(t.default),i=e}),n.register("bssli",function(o,g){l(o.exports,"default",function(){return E});var a=n("7GJ5p"),t=n("2Ly8r"),e=n("5A3Ii"),i=n("k96bV"),u=n("bLLOG"),d=n("fshwv"),c=n("cMffJ"),p=n("7Ykrz");const v=new Map;function b({defaultValue:w,defaultLanguage:L,defaultPath:k,value:O,language:P,path:T,theme:N,line:S,loading:F,options:C,overrideServices:A,saveViewState:G,keepCurrentModel:H,width:W,height:z,className:B,wrapperProps:R,beforeMount:Y,onMount:_,onChange:J,onValidate:x}){const[s,U]=(0,t.useState)(!1),[D,Q]=(0,t.useState)(!0),m=(0,t.useRef)(null),f=(0,t.useRef)(null),q=(0,t.useRef)(null),M=(0,t.useRef)(_),y=(0,t.useRef)(Y),I=(0,t.useRef)(null),X=(0,t.useRef)(O),re=(0,p.default)(T);(0,u.default)(()=>{const $=a.default.init();return $.then(h=>(m.current=h)&&Q(!1)).catch(h=>(h==null?void 0:h.type)!=="cancelation"&&console.error("Monaco initialization: error:",h)),()=>f.current?ne():$.cancel()}),(0,d.default)(()=>{const $=(0,c.getOrCreateModel)(m.current,w||O,L||P,T);$!==f.current.getModel()&&(G&&v.set(re,f.current.saveViewState()),f.current.setModel($),G&&f.current.restoreViewState(v.get(T)))},[T],s),(0,d.default)(()=>{f.current.updateOptions(C)},[C],s),(0,d.default)(()=>{f.current.getOption(m.current.editor.EditorOption.readOnly)?f.current.setValue(O):O!==f.current.getValue()&&(f.current.executeEdits("",[{range:f.current.getModel().getFullModelRange(),text:O,forceMoveMarkers:!0}]),f.current.pushUndoStop())},[O],s),(0,d.default)(()=>{m.current.editor.setModelLanguage(f.current.getModel(),P)},[P],s),(0,d.default)(()=>{(0,c.isUndefined)(S)||f.current.revealLine(S)},[S],s),(0,d.default)(()=>{m.current.editor.setTheme(N)},[N],s);const Z=(0,t.useCallback)(()=>{y.current(m.current);const $=T||k,h=(0,c.getOrCreateModel)(m.current,O||w,L||P,$);f.current=m.current.editor.create(q.current,{model:h,automaticLayout:!0,...C},A),G&&f.current.restoreViewState(v.get($)),m.current.editor.setTheme(N),U(!0)},[w,L,k,O,P,T,C,A,G,N]);(0,t.useEffect)(()=>{s&&M.current(f.current,m.current)},[s]),(0,t.useEffect)(()=>{!D&&!s&&Z()},[D,s,Z]),X.current=O,(0,t.useEffect)(()=>{if(s&&J){var $,h;($=I.current)===null||$===void 0||$.dispose(),I.current=(h=f.current)===null||h===void 0?void 0:h.onDidChangeModelContent(j=>{const V=f.current.getValue();X.current!==V&&J(V,j)})}},[s,J]),(0,t.useEffect)(()=>{if(s){const $=m.current.editor.onDidChangeMarkers(h=>{var j;const V=(j=f.current.getModel())===null||j===void 0?void 0:j.uri;if(V&&h.find(K=>K.path===V.path)){const K=m.current.editor.getModelMarkers({resource:V});x==null||x(K)}});return()=>{$==null||$.dispose()}}},[s,x]);function ne(){var $;if(($=I.current)===null||$===void 0||$.dispose(),H)G&&v.set(T,f.current.saveViewState());else{var h;(h=f.current.getModel())===null||h===void 0||h.dispose()}f.current.dispose()}return r(t).createElement(i.default,{width:W,height:z,isEditorReady:s,loading:F,_ref:q,className:B,wrapperProps:R})}b.propTypes={defaultValue:r(e).string,defaultPath:r(e).string,defaultLanguage:r(e).string,value:r(e).string,language:r(e).string,path:r(e).string,theme:r(e).string,line:r(e).number,loading:r(e).oneOfType([r(e).element,r(e).string]),options:r(e).object,overrideServices:r(e).object,saveViewState:r(e).bool,keepCurrentModel:r(e).bool,width:r(e).oneOfType([r(e).number,r(e).string]),height:r(e).oneOfType([r(e).number,r(e).string]),className:r(e).string,wrapperProps:r(e).object,beforeMount:r(e).func,onMount:r(e).func,onChange:r(e).func,onValidate:r(e).func},b.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:c.noop,onMount:c.noop,onValidate:c.noop};var E=b}),n.register("7Ykrz",function(o,g){l(o.exports,"default",function(){return e});var a=n("2Ly8r");function t(i){const u=(0,a.useRef)();return(0,a.useEffect)(()=>{u.current=i},[i]),u.current}var e=t})})();
