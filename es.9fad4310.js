(function(){function te(n){Object.defineProperty(n,"__esModule",{value:!0,configurable:!0})}function l(n,v,c,t){Object.defineProperty(n,v,{get:c,set:t,enumerable:!0,configurable:!0})}function r(n){return n&&n.__esModule?n.default:n}var re=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{},a=re.parcelRequire11ea,b=a.register;b("9c5Ak",function(n,v){te(n.exports),l(n.exports,"loader",function(){return a("7GJ5p").default}),l(n.exports,"DiffEditor",function(){return a("a8HTS").default}),l(n.exports,"useMonaco",function(){return a("f3Nep").default}),l(n.exports,"default",function(){return a("gLwTk").default});var c=a("7GJ5p"),t=a("a8HTS"),e=a("f3Nep"),o=a("gLwTk")}),b("a8HTS",function(n,v){l(n.exports,"default",function(){return o});var c=a("2Ly8r"),t=a("9GpmP"),e=(0,c.memo)(t.default),o=e}),b("9GpmP",function(n,v){l(n.exports,"default",function(){return g});var c=a("7GJ5p"),t=a("2Ly8r"),e=a("5A3Ii"),o=a("k96bV"),u=a("bLLOG"),d=a("fshwv"),i=a("cMffJ");function p({original:M,modified:k,language:R,originalLanguage:L,modifiedLanguage:T,originalModelPath:O,modifiedModelPath:S,keepCurrentOriginalModel:C,keepCurrentModifiedModel:V,theme:G,loading:F,options:P,height:A,width:I,className:H,wrapperProps:W,beforeMount:z,onMount:B}){const[E,Y]=(0,t.useState)(!1),[_,J]=(0,t.useState)(!0),m=(0,t.useRef)(null),s=(0,t.useRef)(null),U=(0,t.useRef)(null),D=(0,t.useRef)(B),Q=(0,t.useRef)(z);(0,u.default)(()=>{const h=c.default.init();return h.then(x=>(s.current=x)&&J(!1)).catch(x=>(x==null?void 0:x.type)!=="cancelation"&&console.error("Monaco initialization: error:",x)),()=>m.current?q():h.cancel()}),(0,d.default)(()=>{const h=m.current.getModifiedEditor();h.getOption(s.current.editor.EditorOption.readOnly)?h.setValue(k):k!==h.getValue()&&(h.executeEdits("",[{range:h.getModel().getFullModelRange(),text:k,forceMoveMarkers:!0}]),h.pushUndoStop())},[k],E),(0,d.default)(()=>{m.current.getModel().original.setValue(M)},[M],E),(0,d.default)(()=>{const{original:h,modified:x}=m.current.getModel();s.current.editor.setModelLanguage(h,L||R),s.current.editor.setModelLanguage(x,T||R)},[R,L,T],E),(0,d.default)(()=>{s.current.editor.setTheme(G)},[G],E),(0,d.default)(()=>{m.current.updateOptions(P)},[P],E);const w=(0,t.useCallback)(()=>{Q.current(s.current);const h=(0,i.getOrCreateModel)(s.current,M,L||R,O),x=(0,i.getOrCreateModel)(s.current,k,T||R,S);m.current.setModel({original:h,modified:x})},[R,k,T,M,L,O,S]),f=(0,t.useCallback)(()=>{m.current=s.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...P}),w(),s.current.editor.setTheme(G),Y(!0)},[P,G,w]);(0,t.useEffect)(()=>{E&&D.current(m.current,s.current)},[E]),(0,t.useEffect)(()=>{!_&&!E&&f()},[_,E,f]);function q(){const h=m.current.getModel();if(!C){var x;(x=h.original)===null||x===void 0||x.dispose()}if(!V){var N;(N=h.modified)===null||N===void 0||N.dispose()}m.current.dispose()}return r(t).createElement(o.default,{width:I,height:A,isEditorReady:E,loading:F,_ref:U,className:H,wrapperProps:W})}p.propTypes={original:r(e).string,modified:r(e).string,language:r(e).string,originalLanguage:r(e).string,modifiedLanguage:r(e).string,originalModelPath:r(e).string,modifiedModelPath:r(e).string,keepCurrentOriginalModel:r(e).bool,keepCurrentModifiedModel:r(e).bool,theme:r(e).string,loading:r(e).oneOfType([r(e).element,r(e).string]),options:r(e).object,width:r(e).oneOfType([r(e).number,r(e).string]),height:r(e).oneOfType([r(e).number,r(e).string]),className:r(e).string,wrapperProps:r(e).object,beforeMount:r(e).func,onMount:r(e).func},p.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:i.noop,onMount:i.noop};var g=p}),b("5A3Ii",function(n,v){var c,t;n.exports=a("dNOhV")()}),b("dNOhV",function(n,v){"use strict";var c=a("lBw0l");function t(){}function e(){}e.resetWarningCache=t,n.exports=function(){function o(i,p,g,M,k,R){if(R!==c){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}o.isRequired=o;function u(){return o}var d={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:u,element:o,elementType:o,instanceOf:u,node:o,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:e,resetWarningCache:t};return d.PropTypes=d,d}}),b("lBw0l",function(n,v){"use strict";var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=c}),b("k96bV",function(n,v){l(n.exports,"default",function(){return o});var c=a("2Ly8r"),t=a("k9CQ0"),e=(0,c.memo)(t.default),o=e}),b("k9CQ0",function(n,v){l(n.exports,"default",function(){return i});var c=a("2Ly8r"),t=a("5A3Ii"),e=a("itc00"),o=a("1oshR"),u=a("7wpcG");function d({width:p,height:g,isEditorReady:M,loading:k,_ref:R,className:L,wrapperProps:T}){return r(c).createElement("section",(0,e.extends)({style:{...u.default.wrapper,width:p,height:g}},T),!M&&r(c).createElement(o.default,{content:k}),r(c).createElement("div",{ref:R,style:{...u.default.fullWidth,...!M&&u.default.hide},className:L}))}d.propTypes={width:r(t).oneOfType([r(t).number,r(t).string]).isRequired,height:r(t).oneOfType([r(t).number,r(t).string]).isRequired,loading:r(t).oneOfType([r(t).element,r(t).string]).isRequired,isEditorReady:r(t).bool.isRequired,className:r(t).string,wrapperProps:r(t).object};var i=d}),b("itc00",function(n,v){l(n.exports,"extends",function(){return c});function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])}return t},c.apply(this,arguments)}}),b("1oshR",function(n,v){l(n.exports,"default",function(){return o});var c=a("2Ly8r");const t={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function e({content:u}){return r(c).createElement("div",{style:t},u)}var o=e}),b("7wpcG",function(n,v){l(n.exports,"default",function(){return t});var t={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}}}),b("bLLOG",function(n,v){l(n.exports,"default",function(){return e});var c=a("2Ly8r");function t(o){(0,c.useEffect)(o,[])}var e=t}),b("fshwv",function(n,v){l(n.exports,"default",function(){return e});var c=a("2Ly8r");function t(o,u,d=!0){const i=(0,c.useRef)(!0);(0,c.useEffect)(i.current||!d?()=>{i.current=!1}:o,u)}var e=t}),b("cMffJ",function(n,v){l(n.exports,"noop",function(){return c}),l(n.exports,"getOrCreateModel",function(){return t}),l(n.exports,"isUndefined",function(){return d});function c(){}function t(i,p,g,M){return e(i,M)||o(i,p,g,M)}function e(i,p){return i.editor.getModel(u(i,p))}function o(i,p,g,M){return i.editor.createModel(p,g,M&&u(i,M))}function u(i,p){return i.Uri.parse(p)}function d(i){return i===void 0}}),b("f3Nep",function(n,v){l(n.exports,"default",function(){return u});var c=a("7GJ5p"),t=a("2Ly8r"),e=a("bLLOG");function o(){const[d,i]=(0,t.useState)(c.default.__getMonacoInstance());return(0,e.default)(()=>{let p;return d||(p=c.default.init(),p.then(g=>{i(g)})),()=>{var g;return(g=p)===null||g===void 0?void 0:g.cancel()}}),d}var u=o}),b("gLwTk",function(n,v){l(n.exports,"default",function(){return o});var c=a("2Ly8r"),t=a("bssli"),e=(0,c.memo)(t.default),o=e}),b("bssli",function(n,v){l(n.exports,"default",function(){return k});var c=a("7GJ5p"),t=a("2Ly8r"),e=a("5A3Ii"),o=a("k96bV"),u=a("bLLOG"),d=a("fshwv"),i=a("cMffJ"),p=a("7Ykrz");const g=new Map;function M({defaultValue:R,defaultLanguage:L,defaultPath:T,value:O,language:S,path:C,theme:V,line:G,loading:F,options:P,overrideServices:A,saveViewState:I,keepCurrentModel:H,width:W,height:z,className:B,wrapperProps:E,beforeMount:Y,onMount:_,onChange:J,onValidate:m}){const[s,U]=(0,t.useState)(!1),[D,Q]=(0,t.useState)(!0),w=(0,t.useRef)(null),f=(0,t.useRef)(null),q=(0,t.useRef)(null),h=(0,t.useRef)(_),x=(0,t.useRef)(Y),N=(0,t.useRef)(null),ne=(0,t.useRef)(O),oe=(0,p.default)(C),Z=(0,t.useRef)(!1);(0,u.default)(()=>{const $=c.default.init();return $.then(y=>(w.current=y)&&Q(!1)).catch(y=>(y==null?void 0:y.type)!=="cancelation"&&console.error("Monaco initialization: error:",y)),()=>f.current?ae():$.cancel()}),(0,d.default)(()=>{const $=(0,i.getOrCreateModel)(w.current,R||O,L||S,C);$!==f.current.getModel()&&(I&&g.set(oe,f.current.saveViewState()),f.current.setModel($),I&&f.current.restoreViewState(g.get(C)))},[C],s),(0,d.default)(()=>{f.current.updateOptions(P)},[P],s),(0,d.default)(()=>{f.current.getOption(w.current.editor.EditorOption.readOnly)?f.current.setValue(O):O!==f.current.getValue()&&(f.current.executeEdits("",[{range:f.current.getModel().getFullModelRange(),text:O,forceMoveMarkers:!0}]),f.current.pushUndoStop())},[O],s),(0,d.default)(()=>{w.current.editor.setModelLanguage(f.current.getModel(),S)},[S],s),(0,d.default)(()=>{(0,i.isUndefined)(G)||f.current.revealLine(G)},[G],s),(0,d.default)(()=>{w.current.editor.setTheme(V)},[V],s);const ee=(0,t.useCallback)(()=>{if(!Z.current){x.current(w.current);const $=C||T,y=(0,i.getOrCreateModel)(w.current,O||R,L||S,$);f.current=w.current.editor.create(q.current,{model:y,automaticLayout:!0,...P},A),I&&f.current.restoreViewState(g.get($)),w.current.editor.setTheme(V),U(!0),Z.current=!0}},[R,L,T,O,S,C,P,A,I,V]);(0,t.useEffect)(()=>{s&&h.current(f.current,w.current)},[s]),(0,t.useEffect)(()=>{!D&&!s&&ee()},[D,s,ee]),ne.current=O,(0,t.useEffect)(()=>{if(s&&J){var $,y;($=N.current)===null||$===void 0||$.dispose(),N.current=(y=f.current)===null||y===void 0?void 0:y.onDidChangeModelContent(j=>{J(f.current.getValue(),j)})}},[s,J]),(0,t.useEffect)(()=>{if(s){const $=w.current.editor.onDidChangeMarkers(y=>{var j;const K=(j=f.current.getModel())===null||j===void 0?void 0:j.uri;if(K&&y.find(X=>X.path===K.path)){const X=w.current.editor.getModelMarkers({resource:K});m==null||m(X)}});return()=>{$==null||$.dispose()}}},[s,m]);function ae(){var $;if(($=N.current)===null||$===void 0||$.dispose(),H)I&&g.set(C,f.current.saveViewState());else{var y;(y=f.current.getModel())===null||y===void 0||y.dispose()}f.current.dispose()}return r(t).createElement(o.default,{width:W,height:z,isEditorReady:s,loading:F,_ref:q,className:B,wrapperProps:E})}M.propTypes={defaultValue:r(e).string,defaultPath:r(e).string,defaultLanguage:r(e).string,value:r(e).string,language:r(e).string,path:r(e).string,theme:r(e).string,line:r(e).number,loading:r(e).oneOfType([r(e).element,r(e).string]),options:r(e).object,overrideServices:r(e).object,saveViewState:r(e).bool,keepCurrentModel:r(e).bool,width:r(e).oneOfType([r(e).number,r(e).string]),height:r(e).oneOfType([r(e).number,r(e).string]),className:r(e).string,wrapperProps:r(e).object,beforeMount:r(e).func,onMount:r(e).func,onChange:r(e).func,onValidate:r(e).func},M.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:i.noop,onMount:i.noop,onValidate:i.noop};var k=M}),b("7Ykrz",function(n,v){l(n.exports,"default",function(){return e});var c=a("2Ly8r");function t(o){const u=(0,c.useRef)();return(0,c.useEffect)(()=>{u.current=o},[o]),u.current}var e=t})})();
